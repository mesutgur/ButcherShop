@model ButcherShop.Entity.Entities.Product
@{
    ViewBag.Title = "Yeni Ürün Ekle";
}

@section Breadcrumb {
    <li class="breadcrumb-item"><a href="@Url.Action("Index", "Dashboard")">Dashboard</a></li>
    <li class="breadcrumb-item"><a href="@Url.Action("Index")">Ürünler</a></li>
    <li class="breadcrumb-item active">Yeni Ürün</li>
}

<div class="row">
    <div class="col-md-10 offset-md-1">
        <div class="card card-primary">
            <div class="card-header">
                <h3 class="card-title">Ürün Bilgileri</h3>
            </div>

            @using (Html.BeginForm("Create", "Product", FormMethod.Post, new { @class = "form-horizontal" }))
            {
                @Html.AntiForgeryToken()

        <div class="card-body">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        @Html.LabelFor(model => model.Name, "Ürün Adı *")
                        @Html.TextBoxFor(model => model.Name, new { @class = "form-control", placeholder = "Ürün adını giriniz", required = "required" })
                        @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="col-md-6">
                    @Html.LabelFor(model => model.CategoryId, "Kategori *")
                    @Html.DropDownList("CategoryId", (SelectList)ViewBag.Categories, "-- Kategori Seçin --", new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(model => model.CategoryId, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Description, "Açıklama")
                @Html.TextAreaFor(model => model.Description, new { @class = "form-control", rows = 4, placeholder = "Ürün açıklaması..." })
                @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
            </div>

            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        @Html.LabelFor(model => model.Price, "Fiyat (₺) *")
                        @Html.TextBoxFor(model => model.Price, new { @class = "form-control", type = "number", step = "0.01", min = "0", placeholder = "0.00", required = "required" })
                        @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        @Html.LabelFor(model => model.Unit, "Birim")
                        @Html.TextBoxFor(model => model.Unit, new { @class = "form-control", placeholder = "kg, adet, gr" })
                        @Html.ValidationMessageFor(model => model.Unit, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        @Html.LabelFor(model => model.StockQuantity, "Stok Miktarı")
                        @Html.TextBoxFor(model => model.StockQuantity, new { @class = "form-control", type = "number", min = "0", value = "0" })
                        @Html.ValidationMessageFor(model => model.StockQuantity, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>

            @*<div class="form-group">
            @Html.LabelFor(model => model.ImageUrl, "Görsel URL")
            @Html.TextBoxFor(model => model.ImageUrl, new { @class = "form-control", placeholder = "https://example.com/image.jpg" })
            @Html.ValidationMessageFor(model => model.ImageUrl, "", new { @class = "text-danger" })
            <small class="form-text text-muted">
                Ürün görseli URL'si. Dosya yükleme özelliği ileride eklenecek.
            </small>
        </div>*@

            <div class="form-group">
                @Html.LabelFor(model => model.ImageUrl, "Görsel URL")
                @Html.TextBoxFor(model => model.ImageUrl, new { @class = "form-control", placeholder = "https://example.com/image.jpg" })
                @Html.ValidationMessageFor(model => model.ImageUrl, "", new { @class = "text-danger" })
                <small class="form-text text-muted">
                    <i class="fas fa-info-circle"></i>
                    Ürün oluşturduktan sonra "Görselleri Yönet" bölümünden birden fazla görsel ekleyebilirsiniz.
                </small>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="custom-control custom-switch">
                        @Html.CheckBoxFor(model => model.IsFeatured, new { @class = "custom-control-input", id = "isFeaturedSwitch" })
                        <label class="custom-control-label" for="isFeaturedSwitch">
                            <strong>Öne Çıkan Ürün</strong>
                            <br /><small class="text-muted">Ana sayfada görüntülenir</small>
                        </label>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="custom-control custom-switch">
                        @Html.CheckBoxFor(model => model.IsActive, new { @class = "custom-control-input", id = "isActiveSwitch", @checked = "checked" })
                        <label class="custom-control-label" for="isActiveSwitch">
                            <strong>Aktif</strong>
                            <br /><small class="text-muted">Sitede görüntülenir</small>
                        </label>
                    </div>
                </div>
            </div>
        </div>

                <div class="card-footer">
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-save"></i> Kaydet
                    </button>
                    <a href="@Url.Action("Index")" class="btn btn-secondary">
                        <i class="fas fa-times"></i> İptal
                    </a>
                </div>
            }
        </div>
    </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}